machine:

  node:
    version: 6.6.0


dependencies:
  override:
    - sudo apt-get install libcairo2-dev libjpeg8-dev libpango1.0-dev libgif-dev g++
    - cd .. && git clone git@github.com:quantmind/d3-view.git && cd d3-view && npm install
    - cd .. && git clone git@github.com:quantmind/d3-canvas-transition.git && cd d3-canvas-transition && npm install
    - npm install


test:
  override:
    - npm test
    - npm run-script build
    - mv coverage/P* $CIRCLE_ARTIFACTS/coverage
